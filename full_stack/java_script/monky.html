<canvas id="myCanvas" width="400" height="400" style="border:1px solid;"></canvas>
<br>
<p>X:</p>
<p id="x_value">--</p>
<p>Y:</p>
<p id="y_value">--</p>
<img src="pacman.jpg" id="lamp" width="20" height="20">
<script>
    //----------------------------------------------------
    function keyDownEventHandler() {


        //clean
        ctx.fillStyle = 'white';
        ctx.fillRect(x, y, 20, 20);
        if (event.keyCode == 40)
            y += 20;
        if (event.keyCode == 38)
            y -= 20;
        if (event.keyCode == 37)
            x -= 20;
        if (event.keyCode == 39)
            x += 20;
        if (x == 400)
            x = 0;
        if (x == -20)
            x = 380;
        if (y == 400)
            y = 0;
        if (y == -20)
            y = 380;
        document.getElementById("x_value").innerHTML = x;
        document.getElementById("y_value").innerHTML = y;
        
        
        
        
        
        //ctx.rect(0, 0, 150, 100);
        ctx.fillStyle = pat;
        ctx.fill();
        //ctx.fillStyle = "black";
        //ctx.fillRect(x, y, 20, 20);

    }
    //----------------------------------------------------
    canvas = document.getElementById('myCanvas');
    //ctx = canvas.getContext('2d');
    img = document.getElementById("lamp");
    pat = ctx.createPattern(img, "no-repeat");
    c = document.getElementById("myCanvas");
    ctx = c.getContext("2d");
    var x = 40;
    var y = 40;
    document.onkeydown = keyDownEventHandler;
</script>